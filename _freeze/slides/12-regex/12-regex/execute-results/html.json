{
  "hash": "14c53814bb5aad389325c93daa0ebe83",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Regular Expressions\"\nsubtitle: \"Lecture 12\"\ntitle-slide-attributes:\n  data-background-image: ../vizdata-bg.png\n  data-background-size: stretch\n  data-slide-number: none\nformat: revealjs\n---\n\n\n::: {.cell}\n\n:::\n\n\n# Introduction\n\n## Regular Expressions (Regex)\n\n- A powerful tool for describing patterns in strings.\n- Used for finding, extracting, and replacing text.\n- `stringr` provides a consistent interface for working with regex.\n\n# Key Functions\n\n## `str_detect()`\n\n- `str_detect()` returns `TRUE` if a pattern is found in a string, `FALSE` otherwise.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nx <- c(\"apple\", \"banana\", \"pear\", \"pineapple\", \"naartjie\")\nstr_detect(x, \"an\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE  TRUE FALSE FALSE FALSE\n```\n\n\n:::\n:::\n\n\n## `str_count()`\n\n- `str_count()` counts the number of matches in a string.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nstr_count(\"banana\", \"a\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n:::\n\n\n## `str_extract()` and `str_extract_all()`\n\n- `str_extract()` extracts the first match.\n- `str_extract_all()` extracts all matches.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nstr_extract(\"banana\", \"an\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"an\"\n```\n\n\n:::\n\n```{.r .cell-code}\nstr_extract_all(\"banana\", \"an\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n[1] \"an\" \"an\"\n```\n\n\n:::\n:::\n\n\n## `str_replace()` and `str_replace_all()`\n\n- Replaces the first or all matches with a new string.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nx <- c(\"Dr_Eric_Friedlander\", \"Dr_Brandy_Wiegers\", \"Anthony_Campitelli\")\nstr_replace(x, \"_\", \" \")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dr Eric_Friedlander\" \"Dr Brandy_Wiegers\"   \"Anthony Campitelli\" \n```\n\n\n:::\n\n```{.r .cell-code}\nstr_replace_all(x, \" \", \" \")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dr_Eric_Friedlander\" \"Dr_Brandy_Wiegers\"   \"Anthony_Campitelli\" \n```\n\n\n:::\n:::\n\n\n## Regex\n\nInstead of inputting literal strings, you can use regex patterns to describe more complex matches.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nx <- c(\"Dr_Eric_Friedlander\", \"Dr_Brandy_Wiegers\", \"Anthony_Campitelli\")\n# remove all vowels\nstr_replace_all(x, \"[aeiouAEIOU]\", \"\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dr_rc_Frdlndr\" \"Dr_Brndy_Wgrs\" \"nthny_Cmptll\" \n```\n\n\n:::\n:::\n\n\n# Pattern Components\n\n## Anchors\n\n- `^` matches the start of the string.\n- `$` matches the end of the string.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nx <- c(\"apple\", \"banana\", \"pear\")\nstr_detect(x, \"^a\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  TRUE FALSE FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\nstr_detect(x, \"a$\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE  TRUE FALSE\n```\n\n\n:::\n:::\n\n\n## Character Classes\n\n- `.` matches any character except a newline.\n- `\\d` matches any digit.\n- `\\s` matches any whitespace.\n- `[abc]` matches a, b, or c.\n- `[^abc]` matches anything except a, b, or c.\n\n## Repetition\n\n- `?`: 0 or 1 time.\n- `+`: 1 or more times.\n- `*`: 0 or more times.\n- `{n}`: exactly n times.\n- `{n,}`: n or more times.\n- `{n,m}`: between n and m times.\n\n## Practice!\n\nLet's do some practice!\n\n# Grouping and Backreferences\n\n## `()` for Grouping\n\n- Parentheses create a \"capturing group\" to extract parts of a match.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nstr_match(\"apple, banana, pear\", \"([a-z]+), ([a-z]+)\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1]            [,2]    [,3]    \n[1,] \"apple, banana\" \"apple\" \"banana\"\n```\n\n\n:::\n:::\n\n\n## Backreferences\n\n- `\\1`, `\\2`, etc. refer to previously captured groups.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nstr_replace(\"abab\", \"(a)(b)\", \"\\\\2\\\\1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"baab\"\n```\n\n\n:::\n:::\n\n\n## Practice!\n\nLet's do some practice!\n\n# Other Tools\n\n## `tidyr::separate_wider_regex()`\n\n- Separates a column into multiple columns using regex with capture groups.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndf <- tibble(x = \"123-abc\")\ndf |> separate_wider_regex(x, c(num = \"\\\\d+\", \"-\", chr = \"[a-z]+\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 Ã— 2\n  num   chr  \n  <chr> <chr>\n1 123   abc  \n```\n\n\n:::\n:::\n\n\n## `fixed()`\n\n- Use `fixed()` to match a literal string without interpreting it as a regex.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nstr_detect(\"a.b\", fixed(\".\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n## Practice!\n\nLet's do some practice!\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}