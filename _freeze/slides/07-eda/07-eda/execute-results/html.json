{
  "hash": "e9d08bfffe7da4e42abd3edb128d4f20",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Exploratory Data Analysis\"\nsubtitle: \"Lecture 7\"\ntitle-slide-attributes:\n  data-background-image: ../vizdata-bg.png\n  data-background-size: stretch\n  data-slide-number: none\nformat: revealjs\n---\n\n\n::: {.cell}\n\n:::\n\n\n# What is EDA?\n\n## Exploratory Data Analysis\n\nEDA is an iterative cycle. You:\n\n1.  Generate questions about your data.\n2.  Search for answers by visualizing, transforming, and modelling your data.\n3.  Use what you learn to refine your questions and/or generate new questions.\n\n## Fun Quotes\n\n> \"There are no routine statistical questions, only questionable statistical routines.\" — Sir David Cox\n\n. . .\n\n> “Far better an approximate answer to the right question, which is often vague, than an exact answer to the wrong question, which can always be made precise.” — John Tukey\n\n\n## Guiding Questions\n\nTwo main types of questions to ask:\n\n1.  What type of variation occurs within my variables?\n\n2.  What type of covariation occurs between my variables?\n\n## Data: `diamonds`\n\n- We will use the `diamonds` dataset from the `ggplot2` package.\n- It contains information about the prices and attributes of almost 54,000 diamonds.\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nglimpse(diamonds)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 53,940\nColumns: 10\n$ carat   <dbl> 0.23, 0.21, 0.23, 0.29, 0.31, 0.24, 0.24, 0.26, 0.22, 0.23, 0.…\n$ cut     <ord> Ideal, Premium, Good, Premium, Good, Very Good, Very Good, Ver…\n$ color   <ord> E, E, E, I, J, J, I, H, E, H, J, J, F, J, E, E, I, J, J, J, I,…\n$ clarity <ord> SI2, SI1, VS1, VS2, SI2, VVS2, VVS1, SI1, VS2, VS1, SI1, VS1, …\n$ depth   <dbl> 61.5, 59.8, 56.9, 62.4, 63.3, 62.8, 62.3, 61.9, 65.1, 59.4, 64…\n$ table   <dbl> 55, 61, 65, 58, 58, 57, 57, 55, 61, 61, 55, 56, 61, 54, 62, 58…\n$ price   <int> 326, 326, 327, 334, 335, 336, 336, 337, 337, 338, 339, 340, 34…\n$ x       <dbl> 3.95, 3.89, 4.05, 4.20, 4.34, 3.94, 3.95, 4.07, 3.87, 4.00, 4.…\n$ y       <dbl> 3.98, 3.84, 4.07, 4.23, 4.35, 3.96, 3.98, 4.11, 3.78, 4.05, 4.…\n$ z       <dbl> 2.43, 2.31, 2.31, 2.63, 2.75, 2.48, 2.47, 2.53, 2.49, 2.39, 2.…\n```\n\n\n:::\n:::\n\n\n# Variation\n\n## Visualizing Distributions\n\n**Variation** is the tendency of the values of a variable to change from measurement to measurement.\n\n- Every variable has its own pattern of variation, which can reveal interesting information.\n- The best way to understand that pattern is to visualize the variable’s distribution.\n\n## Questions\n\n- Which values are the most common? *Why?*\n\n- Which values are rare? *Why?* Does that match your expectations?\n\n- Can you see any unusual patterns? *What might explain them?*\n\n## Recall: Univarite Plots\n\n- Categorical variables: bar charts\n- Numerical variables: histograms, boxplots\n\n## Practice\n\n- Let's practice exploring the `diamonds` data set\n  - The `binwidth` of a histogram can reveal different patterns.\n\n# Unusual Values\n\n## Outliers\n\n- Outliers are observations that are unusual; points that don’t seem to fit the pattern.\n- Sometimes they are data entry errors; other times they are genuinely important.\n\n## Handling Outliers\n\n- If they are data entry errors, try to fix them or remove them.\n- If they are genuine, their presence is important information.\n- Neither of these conclusions can be made without understanding the context of the data and looking deeply at the observations\n\n## More Practice\n\n- Let's look for outliers in the `diamonds` dataset.\n- Let's also work through some of the exercises in the chapter.\n\n# Covariation\n\n## Visualizing Relationships\n\n- **Covariation**: how do two variables change together? What is their relationship?\n- Visualizing covariation helps you understand relationships between variables\n- You need to think and plan carefully about how to display multiple distributions in a single plot\n\n## Recall: Three general cases\n\n- Categorical + Categorical\n  + Boxplots\n- Categorical + Numerical\n  + Boxplots, jitter plots, faceted histograms\n- Numerical + Numerical\n  + Scatterplots, jitter plots\n\n\n## Reordering Categories\n\n- You can reorder the categorical variable to make the plot easier to read.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(diamonds, aes(x = fct_reorder(cut, price, .fun = median), y = price)) +\n  geom_boxplot() +\n  labs(x = \"cut\")\n```\n\n::: {.cell-output-display}\n![](07-eda_files/figure-revealjs/unnamed-chunk-2-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Some new plots\n\n- Categorical + Categorical\n  + Mosaic plots, count plots, tile plots\n- Categorical + Numerical\n  + Violin plots, sina plots, ridgeline plots, frequency polygons\n- Numerical + Numerical\n  + 2D-Histogram/heatmap of counts, hexbin plots\n\n\n## Practice\n\n- Let's practice exploring covariation in the `diamonds` dataset.\n- Techniques to try:\n  - Reordering categories\n  - New plot types\n  - Dealing with overplotting\n  - Changing aesthetics (color, size, shape)\n  - Filtering and mutating data\n\n# Patterns\n\n## Patterns\n\n- Patterns in your data hint at relationships. If you can spot a pattern, ask yourself:\n  - Could this pattern be due to coincidence?\n  - How can you describe the relationship implied by the pattern?\n  - How strong is the relationship implied by the pattern?\n  - What other variables might affect the relationship?\n  - Does the relationship change if you look at individual subgroups of the data?\n- Models can help you extract the strong patterns and leave the weaker ones.\n\n## Transformations\n\n- Transformations can help you see patterns more clearly.\n- Common transformations include:\n  - Logarithms\n  - Logarithms\n  - Logarithms\n  - Square roots\n  - Logarithms\n  - Standardization (z-scores)\n  - Logarithms\n\n## The power `emo::ji(\"man_facepalming\")` of logs\n\n- Power law: when $y = ax^k$\n  + Taking the log of both sides gives: $\\log(y) = \\log(a) + k\\log(x)$\n  + Intuitively: multiplying `x` by a constant multiplies `y` by a constant.\n- Power law's are extremely common in nature: \n  + Paretto principle (80/20 rule)\n  + City sizes\n  + Earthquake magnitudes\n  + Wealth distributions\n  + Bacteria growth\n\n## Practice\n\n- Let's practice looking for patterns in the `diamonds` dataset.\n- Techniques to try:\n  - Transformations (logs, square roots)\n  - Modeling and residuals\n\n# Summary\n\n## EDA in a nutshell\n\n- EDA is about asking questions and using visualizations to find answers.\n- Start by looking at the variation of each variable.\n- Then, explore the covariation between variables.\n- Use `ggplot2` to create a wide range of plots to help you understand your data.\n- **DON'T FORGET TO THINK!**\n",
    "supporting": [
      "07-eda_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}