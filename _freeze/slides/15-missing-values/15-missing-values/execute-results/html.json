{
  "hash": "adf53b8c9f43ab28b6b059c59a840f05",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Missing Values\"\nsubtitle: \"Lecture 15\"\ntitle-slide-attributes:\n  data-background-image: ../vizdata-bg.png\n  data-background-size: stretch\n  data-slide-number: none\nformat: revealjs\n---\n\n\n::: {.cell}\n\n:::\n\n\n# Introduction\n\n## Missing Values\n\n- Real-world data is often messy and contains missing values.\n- R represents missing values with `NA`.\n- There are explicit and implicit missing values.\n\n# Explicit Missing Values (`NA`)\n\n## `is.na()`\n\n- Most functions will return `NA` if any input is `NA`.\n- Use `na.rm = TRUE` to remove `NA`s before computation in functions like `mean()`, `sum()`, etc.\n\n## `tidyr::fill()`\n\n- Fills in missing values using the last known value (last observation carried forward).\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndf <- tibble(x = c(1, NA, NA, 2, NA), y = c(\"a\", NA, \"b\", NA, NA))\ndf |> fill(x, y)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n      x y    \n  <dbl> <chr>\n1     1 a    \n2     1 a    \n3     1 b    \n4     2 b    \n5     2 b    \n```\n\n\n:::\n:::\n\n\n## `coalesce()` and `na_if()`\n\n- `dplyr::coalesce()` replaces `NA`s with values from another vector.\n- `dplyr::na_if()` replaces a specific value with `NA`.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nx <- c(1, 2, NA, 4, -99)\ncoalesce(x, 0)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]   1   2   0   4 -99\n```\n\n\n:::\n\n```{.r .cell-code}\nna_if(x, -99)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  1  2 NA  4 NA\n```\n\n\n:::\n:::\n\n\n# Implicit Missing Values\n\n## Making Implicit `NA`s Explicit\n\n- Implicit missing values are values that are not present in the data.\n- For example, if a group has no observations, it won't appear in summaries.\n\n## `tidyr::complete()`\n\n- `complete()` turns implicit missing values into explicit `NA`s by completing the full range of data.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndf <- tibble(\n  group = c(\"a\", \"a\", \"b\"),\n  year  = c(2020, 2022, 2021),\n  value = 1:3\n)\ndf |> complete(group, year)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  group  year value\n  <chr> <dbl> <int>\n1 a      2020     1\n2 a      2021    NA\n3 a      2022     2\n4 b      2020    NA\n5 b      2021     3\n6 b      2022    NA\n```\n\n\n:::\n:::\n\n\n# `NaN`\n\n## Not a Number (`NaN`)\n\n- `NaN` (\"Not a Number\") is a special numeric value that can arise from invalid mathematical operations, like `0/0`.\n- `is.nan()` tests for `NaN`.\n- `NaN` is also considered `NA`, so `is.na(NaN)` is `TRUE`.\n\n# Thinking about missing values\n\n## Missingness in Data Analysis\n\n- Be careful about removing missing values without understanding why they are missing\n- Sometimes missing values aren't missing at all\n- Sometimes non-missing values are actually missing\n- Sometimes there is a pattern to missing data (call this structured missingness)\n- Not undersanding missingness can lead to biased results!\n\n## Missing Data Mechanisms\n\n- Missing Completely at Random (MCAR): Missingness is unrelated to any data.\n- Missing at Random (MAR): Missingness is related to observed data.\n- Missing Not at Random (MNAR): Missingness is related to unobserved data.\n- Understanding the mechanism helps in choosing appropriate handling methods.\n\n## Practice!\n\nLet's practice!",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}