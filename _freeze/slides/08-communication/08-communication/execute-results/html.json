{
  "hash": "8b9453ee4643c86869451e5d4019a937",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Communication\"\nsubtitle: \"Lecture 8\"\ntitle-slide-attributes:\n  data-background-image: ../vizdata-bg.png\n  data-background-size: stretch\n  data-slide-number: none\nformat: revealjs\n---\n\n\n::: {.cell}\n\n:::\n\n\n# Introduction\n\n## Communicating Results\n\n- So far, we've focused on using `ggplot2` for exploration.\n- Now, we'll focus on how to use `ggplot2` to create explanatory graphics.\n- The goal is to communicate your findings to others.\n- We will learn how to polish your plots for communication.\n\n# Labels\n\n## `labs()`\n\n- Use the `labs()` function to add labels to your plot.\n- You can add a `title`, `subtitle`, `caption`, `tag`, and new `x` and `y` axis labels.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = class)) +\n  geom_smooth(se = FALSE) +\n  labs(\n    title = \"Fuel efficiency generally decreases with engine size\",\n    subtitle = \"Two seaters (sports cars) are an exception because of their light weight\",\n    caption = \"Data from fueleconomy.gov\",\n    x = \"Engine displacement (L)\",\n    y = \"Highway fuel efficiency (mpg)\",\n    color = \"Car type\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-1-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n# Annotations\n\n## Adding Text\n\n- You can use `geom_text()` to add text to your plot.\n- It's similar to other geoms, but has an `label` aesthetic.\n- `ggrepel` package for making text and labels that repel away from each other to avoid overlapping.\n\n## Example\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nbest_in_class <- mpg |>\n  group_by(class) |>\n  filter(row_number(desc(hwy)) == 1)\n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = class)) +\n  geom_text_repel(data = best_in_class, aes(label = model), nudge_y = 2)\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-2-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## `annotate()`\n\n- You can use `annotate()` to add a single annotation to a plot.\n- This is useful for adding a text label or a rectangle to highlight something.\n\n## Example \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  annotate(\n    \"rect\", \n    xmin = 5, xmax = 7, ymin = 10, ymax = 25, \n    fill = \"red\", alpha = 0.2\n  ) +\n  annotate(\n    \"text\", x = 6, y = 15, label = \"Large engines are inefficient\",\n    color = \"red\", hjust = 0.5\n  )\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-3-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Practice!\n\nLet's do some practice!\n\n# Scales\n\n## Axis Ticks\n\n- Scales control the mapping from data values to aesthetics.\n- You can customize scales to change axis ticks, legend keys, and more.\n- Use `breaks` and `labels` to customize the ticks on an axis.\n\n## Example: Ticks\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(alpha = 0.1) +\n  scale_x_continuous(\n    breaks = seq(0, 5, by = 1), \n    labels = c(\"0\", \"1 carat\", \"2 carats\", \"3 carats\", \"4 carats\", \"5 carats\")\n  ) +\n  scale_y_continuous(labels = scales::dollar)\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-4-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Legend Layout\n\n- Use `theme(legend.position = ...)` to move the legend.\n  - Values: `\"right\"`, `\"left\"`, `\"top\"`, `\"bottom\"`, `\"none\"`.\n- Use `guides()` to control legend appearance, like the number of rows.\n\n## Example: Legend\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nbase <- ggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = class))\n\nbase + \n  theme(legend.position = \"bottom\") +\n  guides(color = guide_legend(nrow = 2, override.aes = list(size = 4)))\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-5-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Color Scales\n\n- Use `scale_color_*()` functions to control color scales.\n- `scale_color_brewer()` uses hand-picked, colorblind-friendly palettes.\n- `scale_color_viridis_c()` is a continuous color scale that is perceptually uniform and colorblind friendly.\n\n## Example: Color Brewer\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = drv)) +\n  scale_color_brewer(palette = \"Set1\")\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-6-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Manual Color Scale\n\n- When you have a predefined mapping between values and colors, use `scale_color_manual()`.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point() +\n  scale_color_manual(values = c(\"4\" = \"navy\", \"f\" = \"darkred\", \"r\" = \"darkgreen\"))\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-7-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Axis Transformations\n\n- You can transform a variable inside the aesthetic mapping, e.g. `aes(y = log10(price))`.\n- Or, you can transform the scale, e.g. `scale_y_log10()`. This is usually better because the axis is labeled on the original data scale.\n\n## Example\n\n:::: columns\n::: column\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Transformed in aesthetic\nggplot(diamonds, aes(x = log10(carat), y = log10(price))) +\n  geom_bin2d()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin2d()` using `bins = 30`. Pick better value `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-8-1.png){fig-align='center' width=2100}\n:::\n:::\n\n:::\n::: column\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(diamonds, aes(x = carat, y = price)) +\n  geom_bin2d() +\n  scale_x_log10() +\n  scale_y_log10()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin2d()` using `bins = 30`. Pick better value `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-9-1.png){fig-align='center' width=2100}\n:::\n:::\n\n:::\n::::\n\n\n## `coord_cartesian()`\n\n- To zoom in on a part of the plot, use `coord_cartesian()`.\n- It's better than `xlim()` or `ylim()` because it doesn't throw away data.\n\n## Example\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\np1 <- ggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(alpha = 0.1)\n\np2 <- ggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(alpha = 0.1) +\n  coord_cartesian(xlim = c(0, 1), ylim = c(0, 5000))\n\np3 <- ggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(alpha = 0.1) +\n  coord_cartesian(xlim = c(0, 0.5), ylim = c(0, 3000))\n\np1 + p2 + p3\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-10-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Practice\n\nLet's practice customizing scales!\n\n# Themes\n\n## Built-in Themes\n\n- `ggplot2` comes with several built-in themes: `theme_gray()`, `theme_bw()`, `theme_minimal()`, `theme_classic()`, `theme_light()`, and `theme_dark()`.\n- You can set a theme globally with `theme_set()`.\n\n## Example\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(mpg, aes(x = displ, y = hwy, color = class)) +\n  geom_point() +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-11-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## `ggthemes`\n\n- The `ggthemes` package provides a variety of addition complete themes.\n- Try `theme_economist()`, `theme_solarized()`, `theme_wsj()`.\n\n## Example\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy, color = class)) +\n  geom_point() +\n  theme_economist() + \n  scale_color_economist()\n```\n\n::: {.cell-output-display}\n![](08-communication_files/figure-revealjs/unnamed-chunk-12-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## `theme()`\n\n- Use `theme()` to customize non-data elements of your plot.\n- You can change fonts, backgrounds, gridlines, legend position, and more.\n\n# Saving Plots\n\n## `ggsave()`\n\n- Use `ggsave()` to save your plots.\n- It saves the last plot by default.\n- You can specify the `width`, `height`, and `dpi`.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np <- ggplot(mpg, aes(x = displ, y = hwy)) + geom_point()\nggsave(\"my-plot.png\", plot = p, width = 6, height = 4, dpi = 300)\n```\n:::\n\n\n# Summary\n\n## Communication Best Practices\n\n- Label your plots clearly and concisely.\n- Use annotations to highlight important features.\n- Choose appropriate scales and colors.\n- Use themes to create a consistent and polished look.\n- Save your plots in a suitable format and resolution.\n- Your goal is to make your plots easy to understand for your audience.",
    "supporting": [
      "08-communication_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}