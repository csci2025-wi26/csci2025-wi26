{
  "hash": "994cbdaefbbbf8534f9ecca3cc99b69d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Visualization Basics\nsubtitle: Lecture 2\ntitle-slide-attributes:\n  data-background-image: ../vizdata-bg.png\n  data-background-size: stretch\n  data-slide-number: none\nformat: revealjs\nauto-stretch: false\n---\n\n# Grammar of graphics\n\n## Data visualization\n\n> *\"The simple graph has brought more information to the data analyst's mind than any other device.\" --- John Tukey*\n\n-   Data visualization is the creation and study of the visual representation of data\n\n-   Many tools for visualizing data -- R is one of them\n\n-   Many approaches/systems within R for making data visualizations -- **ggplot2** is one of them, and that's what we're going to use\n\n## ggplot2 ∈ tidyverse\n\n::: columns\n::: {.column width=\"50%\"}\n![](images/ggplot2-part-of-tidyverse.png){fig-align=\"left\"}\n:::\n\n::: {.column width=\"50%\"}\n-   **ggplot2** is tidyverse's data visualization package\n\n-   `gg` in \"ggplot2\" stands for Grammar of Graphics\n\n-   Inspired by the book **Grammar of Graphics** by Leland Wilkinson\n:::\n:::\n\n## Grammar of Graphics\n\n::: columns\n::: {.column width=\"30%\"}\nA grammar of graphics is a tool that enables us to concisely describe the components of a graphic\n:::\n\n::: {.column width=\"70%\"}\n![](images/grammar-of-graphics.png){fig-align=\"right\"}\n:::\n:::\n\n::: aside\nSource: [BloggoType](http://bloggotype.blogspot.com/2016/08/holiday-notes2-grammar-of-graphics.html)\n:::\n\n## Hello ggplot2!\n\n-   `ggplot()` is the main function in ggplot2\n-   Plots are constructed in layers\n-   Structure of the code for plots can be summarized as\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = [dataset], \n       mapping = aes(x = [x-variable], y = [y-variable])) +\n   geom_xxx() +\n   other options\n```\n:::\n\n\n-   The ggplot2 package comes with the tidyverse\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n-   For help with ggplot2, see [ggplot2.tidyverse.org](http://ggplot2.tidyverse.org/)\n\n## Data: Palmer Penguins {.smaller}\n\n::: columns\n::: {.column width=\"80%\"}\nMeasurements for penguin species, island in Palmer Archipelago, size (flipper length, body mass, bill dimensions), and sex.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'palmerpenguins'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:datasets':\n\n    penguins, penguins_raw\n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n\n\n:::\n:::\n\n:::\n\n::: {.column width=\"20%\"}\n![](images/penguins.png){fig-align=\"left\"}\n:::\n:::\n\n# Types of variables\n\n-  **Categorical** variables: can take only a small number of values\n    +  Typically doesn't make sense to do arithmetic on categorical variables\n    +  Types:\n       -  **Nominal** variables: categories with no inherent order (e.g., species, island\n       -  **Ordinal** variables: categories with a natural order (e.g., size: small, medium, large)\n-  **Numerical** variables: makes sense to \"do math\" with numerical variables\n    +  Types:\n       -  **Discrete** variables: can take only certain values (e.g., number of penguins)\n       -  **Continuous** variables: can take any value in a range (e.g., bill length, body mass)\n\n## Categorical vs. Numerical: A fuzzy line\n\n-  Many times: categorical vs. numerical is NOT clear-cut \n    -  Number $\\neq$ Numerical:\n       +  e.g., ZIP codes, phone numbers, student ID numbers\n    -  Ordinal variables are commonly treated as numerical when they aren't\n       +  e.g., Likert scale responses (Strongly Disagree to Strongly Agree)    \n-  Type of variable will depend on type of analysis and visualization\n-  Sometimes: better to treat numerical as categorcal (e.g. if you have a very small number of distinct values)\n\n## Visualizing Univarite Data\n\n-  Different types of plots for different types of variables\n    +  Categorical variables: bar charts, pie charts (ew!)\n    +  Numerical variables: histograms, boxplots, density plots (many options)\n-  Let's visualize univariate data from the `penguins` data frame\n    + `species`\n    + `bill_length_mm`\n    + `year`\n\n## Bivariate Plots: Visualizing Relationships\n\n-  Visualizing relationships between two variables\n    +  Categorical vs. Numerical: boxplots\n    +  Numerical vs. Numerical: scatterplots\n    +  Categorical vs. Categorical: bar charts\n\n## More than two variables\n\n-  Visualizing relationships among more than two variables\n    +  Use aesthetics like color, shape, and size to represent additional variables\n    +  Faceting to create multiple plots based on the values of one or more categorical variables\n\n## Goal\n\n::: panel-tabset\n## Plot\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](02-first-viz_files/figure-revealjs/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  penguins,\n  aes(x = bill_depth_mm, y = bill_length_mm, color = species)\n) +\n  geom_point() +\n  labs(\n    title = \"Bill depth and length\",\n    subtitle = \"Dimensions for Adelie, Chinstrap, and Gentoo Penguins\",\n    x = \"Bill depth (mm)\", y = \"Bill length (mm)\",\n    color = \"Species\"\n  )\n```\n:::\n\n:::\n\n## An improved goal {.smaller}\n\n::: panel-tabset\n## Plot\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](02-first-viz_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(\n  penguins,\n  aes(x = bill_depth_mm, y = bill_length_mm, color = species, shape = species)) +\n  geom_point(size = 2) +\n  labs(\n    title = \"Bill depth and length\",\n    subtitle = \"Dimensions for Adelie, Chinstrap, and Gentoo Penguins\",\n    x = \"Bill depth (mm)\", y = \"Bill length (mm)\",\n    color = \"Species\",\n    shape = \"Species\",\n    caption = \"Source: Palmer Station LTER / palmerpenguins package\"\n  ) +\n  theme_minimal() +\n  ggthemes::scale_color_colorblind()\n```\n:::\n\n\n## Narrative\n\nStart with the `penguins` data frame, map bill depth to the x-axis and map bill length to the y-axis.\n\nRepresent each observation with a point and map species to the color and shape of each point.\n\nTitle the plot \"Bill depth and length\", add the subtitle \"Dimensions for Adelie, Chinstrap, and Gentoo Penguins\", label the x and y axes as \"Bill depth (mm)\" and \"Bill length (mm)\", respectively, label the legend \"Species\", and add a caption for the data source.\n\nFinally, use a discrete color scale that is designed to be perceived by viewers with common forms of color blindness.\n:::\n\n# Wrap up\n\n## Disclaimer\n\nI have a class in the next period in Bio Sci, so I will be rushing out of class each time. I'm always available on Slack and in office hours and happy to make appointments as well!\n\n## This week's tasks\n\n1.  Create a GitHub account if you don't have one\n\n2.  Read the [syllabus](https://www.vizdata.org/syllabus.html)\n\n3.  Make sure you can login in to RStudio and reserve a container for STA 313: [cmgr.oit.duke.edu/containers](https://cmgr.oit.duke.edu/containers)\n\n4.  Complete the *Getting to know you* survey on Canvas -- to be posted\n\n5.  Complete the readings\n",
    "supporting": [
      "02-first-viz_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}